I know currently the proactive chat uses a system different from the regular chat. Please create a chat component from the regular chat and use it inside the proactive chat as well. The only difference in the frontend for a proactive chat compared to a regular chat should be the subheader with the title, timer, and buttons. The API calls should be exactly the same as the regular chat. The timer service, proactive trigger, persona management, and chat manager should all be independent. This aims to simplify how the proactive chat works; it should be no different from a regular chat, using the same API calls with streaming. Any change to the regular chat in the codebase should also affect the proactive chat since they should derive from the same component. 
Currently when i do a manual trigger a "user message" is sent to the backend, but it should appear in the proactive chat as soon as i clicked the buttom. also the facetime should naturally switch states and the streaming of the assistant response should start. the proactive trigger should be something as simple as typing a message and sending it on a regular chat, but the backend isnt doing that.
please understand the codebase completely and make a plan to change all the code for proactive chat into this new system